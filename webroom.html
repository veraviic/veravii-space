<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DecorateYourRoom</title>

    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <!-- ✅ External CSS -->
    <link rel="stylesheet" href="webroom.css" />
  </head>

  <body>
    <!-- 🎨 Interface Buttons -->
    <button class="toggle" onclick="toggleSidebar()">Objects ←</button>
    <button class="instruction-btn" onclick="toggleInstructions()">
      🗝 Instructions
    </button>
    <button class="screenshot-btn" onclick="downloadPic()">
      📸 Take a Pic!
    </button>
    <button class="qr-btn" onclick="generateQRCode()">Generate QR Code</button>

    <!-- 🎨 Room Background Selector -->
    <div id="bgSelector">
      <img src="droom-bg1.webp" alt="Room 1" onclick="changeRoomBg(1)" />
      <img src="droom-bg2.webp" alt="Room 2" onclick="changeRoomBg(2)" />
    </div>

    <a href="index.html" class="back-btn">Back</a>

    <!-- 🗃️ Object Sidebar Drawer -->
    <div id="sidebar" class="sidebar">
      <div class="sidebar-content">
        <div class="object-card">
          <img
            src="droom-blockingtoy.webp"
            alt="Blocking Toy"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>木质积木</h3>
            <h6>Blocking Toy</h6>
            <p>一直都很喜欢拱形的那几块，很好摸</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-calculator.webp"
            alt="Calculator"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>计算机形计算器</h3>
            <h6>Computer-Shaped Calculator</h6>
            <p>边玩边假装这是真正的计算机</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-candy.webp"
            alt="Candy"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>长条和可乐套餐糖</h3>
            <h6>Playful Candy</h6>
            <p>长条会随着颜色变换口味；套餐糖总会被玩脏但是还是会擦擦灰吃掉</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-clock.webp"
            alt="Clock"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>HelloKitty闹钟</h3>
            <h6>HelloKitty Clock</h6>
            <p>每天早晨都很大声地吼“懒猪起床”，但是还是妈妈和播放的英语磁带才能把我叫醒</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-colorpen.webp"
            alt="Color Pens"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>菠萝王子牌彩笔</h3>
            <h6>PineapplePrince Colorpen</h6>
            <p>最喜欢笔尾的印章，最害怕把笔用没水</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-colorrefill.webp"
            alt="Color Refills"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>彩笔墨水补充液</h3>
            <h6>Colorpen Inkrefills</h6>
            <p>每次用，彩笔灌不进去多少水，但是绝对会弄一手</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-conanbakerstr.webp"
            alt="Conan Baker Street"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>贝克街的亡灵</h3>
            <h6>Detective Conan:The Phantom of Baker Street</h6>
            <p> 最喜欢的一部电影版，为了哄骗我喝下整碗难喝的中药，在家对面的亭子买的</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-conanbooks.webp"
            alt="Conan Books"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>名侦探柯南漫画</h3>
            <h6>Detective Conan Comic</h6>
            <p>最喜欢黑衣人组织合集的那一厚本！</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-eraser.webp"
            alt="Eraser"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>橡皮</h3>
            <h6>Eraser</h6>
            <p>我有很多橡皮，文具是最好的、“名正言顺”的玩具</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-fishingtoy.webp"
            alt="Fishing Toy"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>钓鱼玩具</h3>
            <h6>Fishing Toy</h6>
            <p>塑料鱼是被磁铁吸上来的，所以不是百发百中</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-hualushui.webp"
            alt="Hualu Shui"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>驱蚊止痒三件套</h3>
            <h6>Mosquito Repellent Trio</h6>
            <p>除了掐十字止痒，抹完这些还能变好闻</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-huamao.webp"
            alt="Huamao"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>花猫侦探</h3>
            <h6>Detective Cat(Look and Find Picture Book)</h6>
            <p></p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-kfcconsole.webp"
            alt="KFC Console"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>KFC上校游戏机</h3>
            <h6>KFC Colonel Sanders Game Console</h6>
            <p>喜欢拿着玩俄罗斯方块，但是搬家以后再也没看到了</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-lotion.webp"
            alt="Lotion"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>劳动护肤霜</h3>
            <h6>Workers Lotion</h6>
            <p>在姥姥家过夜，早晨洗完脸搽，味道好闻还不腻</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-med.webp"
            alt="Medicine Box"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>葡萄糖酸锌口服液（儿童版）</h3>
            <h6>Zinc Gluconate Oral Solution</h6>
            <p>小时候不爱吃饭也不长个儿，虽然是药但是喝着很像饮料，好喝！</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-mole2.webp"
            alt="Mole 2"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>鼹鼠的故事</h3>
            <h6>The Little Mole</h6>
            <p>鼹鼠、小老鼠还有大耳朵兔子的声音都很可爱</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-pokefind.webp"
            alt="Pokémon Finder"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>《宝可梦大搜素》</h3>
            <h6>Let's Find Pokémon</h6>
            <p></p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-shoe.webp"
            alt="Shoe"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>跳操小白鞋</h3>
            <h6>White shoes for aerobics</h6>
            <p>每次一穿新的白鞋，一定会被踩脚印，这就是冥冥之中注定的铁律</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-shuihaizi.webp"
            alt="Shui Haizi"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>《水孩子》</h3>
            <h6>The Water-Babies</h6>
            <p>某个周末爸爸妈妈在美特好给我买的</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-sticker.webp"
            alt="Sticker Sheet"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>换衣贴纸</h3>
            <h6>Dress-up Stickers</h6>
            <p>喜欢帮娃娃们穿的漂漂亮亮的，但又不希望贴太死，好方便下次玩</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-talesbook.webp"
            alt="Tales Book"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>影响中国孩子的100个经典童话</h3>
            <h6>100 Classic Fairy Tales Influencing Chinese Children</h6>
            <p>哪怕这本书很厚也经常被我放在枕头下面，在这本里知道了长袜子皮皮</p>
          </div>
        </div>      
        
        <div class="object-card">
          <img
            src="droom-xuanfeng.webp"
            alt="Xuanfeng"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>冲锋战神</h3>
            <h6>Magnum Saber From Let's & Go</h6>
            <p></p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-xhd1.webp"
            alt="XHD 1"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>XHD 1</h3>
            <p>Set of collectible character toys</p>
          </div>
        </div>

        <div class="object-card">
          <img
            src="droom-xhd2.webp"
            alt="XHD 2"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>XHD 2</h3>
            <p>Companion toy figure set</p>
          </div>
        </div>

    

        <div class="object-card">
          <img
            src="droom-xhd3.webp"
            alt="XHD 3"
            draggable="true"
            crossorigin="anonymous"
          />
          <div class="object-info">
            <h3>XHD 3</h3>
            <p>Final figure in the toy trio</p>
          </div>
        </div>
        </div>
      </div>
      <!-- end of .sidebar-content -->
    </div>
    <!-- end of .sidebar -->

    <!-- 🖼 Screenshot Preview Modal -->
    <div id="photoModal" class="photo-modal">
      <div class="photo-content">
        <img id="photoPreview" src="" alt="Screenshot Preview" />
        <div class="photo-buttons">
          <button id="downloadBtn">📥 Download Photo</button>
          <button id="continueBtn">🎨 Keep Decorating</button>
        </div>
      </div>
    </div>

    <!-- 📱 QR Code Modal -->
    <div id="qrOverlay">
      <div id="qrModal">
        <h3>Now the room stays with you forever</h3>
        <div id="qrcode"></div>
        <button onclick="closeQR()">Close</button>
      </div>
    </div>

    <!-- 🗝️ Instruction Panel -->
    <div id="instructionPanel" class="instruction-panel">
      <div class="instruction-content">
        <h3>🗝 Controls & Shortcuts</h3>
        <ul>
          <li>🖱 Drag items from the sidebar into the room</li>
          <li>↔ Resize with the corner handle</li>
          <li>⌫ Delete selected object</li>
          <li>📸 Take a picture and preview it</li>
          <li>🧭 Generate QR code to save your room</li>
        </ul>
        <button onclick="toggleInstructions()">Close</button>
      </div>
    </div>

    <!-- 📸 Flash overlay -->
    <div id="flash-overlay"></div>

    <div id="room" class="room"></div>

    <audio
      id="camera-sound"
      src="camera-click-01-36277.mp3"
      preload="auto"
    ></audio>

    <!-- ✅ External JS -->
    <script src="webroom.js"></script>
  </body>
</html>
